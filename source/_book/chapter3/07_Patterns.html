<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>模式 | 2.0 新的开始</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="../chapter3/08_Generic_Parameters_and_Arguments.html" />
    
    
    <link rel="prev" href="../chapter3/06_Attributes.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="../gitbook/style.css">


        
    <div class="book"  data-level="3.8" data-basepath=".." data-revision="1467786879222">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                         Introduction
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="chapter1/chapter1.html">
            
                
                    <a href="../chapter1/chapter1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         欢迎使用 Swift
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="1.1" data-path="chapter1/01_swift.html">
            
                
                    <a href="../chapter1/01_swift.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                         关于 Swift
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.2" data-path="chapter1/02_a_swift_tour.html">
            
                
                    <a href="../chapter1/02_a_swift_tour.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                         Swift 初见
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.3" data-path="chapter1/03_revision_history.html">
            
                
                    <a href="../chapter1/03_revision_history.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                         Swift 版本历史记录
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1.4" data-path="v1.0.html">
            
                
                    <a href="../v1.0.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                         Swift 1.0 发布内容
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="chapter2/chapter2.html">
            
                
                    <a href="../chapter2/chapter2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Swift 教程
                    </a>
                
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="2.1" data-path="chapter2/01_The_Basics.html">
            
                
                    <a href="../chapter2/01_The_Basics.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                         基础部分
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.2" data-path="chapter2/02_Basic_Operators.html">
            
                
                    <a href="../chapter2/02_Basic_Operators.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                         基本运算符
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.3" data-path="chapter2/03_Strings_and_Characters.html">
            
                
                    <a href="../chapter2/03_Strings_and_Characters.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                         字符串和字符
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.4" data-path="chapter2/04_Collection_Types.html">
            
                
                    <a href="../chapter2/04_Collection_Types.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                         集合类型
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.5" data-path="chapter2/05_Control_Flow.html">
            
                
                    <a href="../chapter2/05_Control_Flow.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                         控制流
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.6" data-path="chapter2/06_Functions.html">
            
                
                    <a href="../chapter2/06_Functions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                         函数
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.7" data-path="chapter2/07_Closures.html">
            
                
                    <a href="../chapter2/07_Closures.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                         闭包
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.8" data-path="chapter2/08_Enumerations.html">
            
                
                    <a href="../chapter2/08_Enumerations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                         枚举
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.9" data-path="chapter2/09_Classes_and_Structures.html">
            
                
                    <a href="../chapter2/09_Classes_and_Structures.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                         类和结构体
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.10" data-path="chapter2/10_Properties.html">
            
                
                    <a href="../chapter2/10_Properties.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                         属性
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.11" data-path="chapter2/11_Methods.html">
            
                
                    <a href="../chapter2/11_Methods.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.11.</b>
                        
                         方法
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.12" data-path="chapter2/12_Subscripts.html">
            
                
                    <a href="../chapter2/12_Subscripts.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.12.</b>
                        
                         下标
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.13" data-path="chapter2/13_Inheritance.html">
            
                
                    <a href="../chapter2/13_Inheritance.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.13.</b>
                        
                         继承
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.14" data-path="chapter2/14_Initialization.html">
            
                
                    <a href="../chapter2/14_Initialization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.14.</b>
                        
                         构造过程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.15" data-path="chapter2/15_Deinitialization.html">
            
                
                    <a href="../chapter2/15_Deinitialization.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.15.</b>
                        
                         析构过程
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.16" data-path="chapter2/16_Automatic_Reference_Counting.html">
            
                
                    <a href="../chapter2/16_Automatic_Reference_Counting.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.</b>
                        
                         自动引用计数
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.17" data-path="chapter2/17_Optional_Chaining.html">
            
                
                    <a href="../chapter2/17_Optional_Chaining.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.17.</b>
                        
                         可选链
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.18" data-path="chapter2/18_Error_Handling.html">
            
                
                    <a href="../chapter2/18_Error_Handling.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.18.</b>
                        
                         错误处理
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.19" data-path="chapter2/19_Type_Casting.html">
            
                
                    <a href="../chapter2/19_Type_Casting.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.19.</b>
                        
                         类型转换
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.20" data-path="chapter2/20_Nested_Types.html">
            
                
                    <a href="../chapter2/20_Nested_Types.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.20.</b>
                        
                         嵌套类型
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.21" data-path="chapter2/21_Extensions.html">
            
                
                    <a href="../chapter2/21_Extensions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.21.</b>
                        
                         扩展
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.22" data-path="chapter2/22_Protocols.html">
            
                
                    <a href="../chapter2/22_Protocols.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.22.</b>
                        
                         协议
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.23" data-path="chapter2/23_Generics.html">
            
                
                    <a href="../chapter2/23_Generics.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.23.</b>
                        
                         泛型
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.24" data-path="chapter2/24_Access_Control.html">
            
                
                    <a href="../chapter2/24_Access_Control.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.24.</b>
                        
                         访问控制
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2.25" data-path="chapter2/25_Advanced_Operators.html">
            
                
                    <a href="../chapter2/25_Advanced_Operators.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.25.</b>
                        
                         高级运算符
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> 语言参考</span>
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="3.1" data-path="chapter3/01_About_the_Language_Reference.html">
            
                
                    <a href="../chapter3/01_About_the_Language_Reference.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                         关于语言参考
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.2" data-path="chapter3/02_Lexical_Structure.html">
            
                
                    <a href="../chapter3/02_Lexical_Structure.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                         词法结构
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.3" data-path="chapter3/03_Types.html">
            
                
                    <a href="../chapter3/03_Types.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                         类型
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.4" data-path="chapter3/04_Expressions.html">
            
                
                    <a href="../chapter3/04_Expressions.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                         表达式
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.5" data-path="chapter3/10_Statements.html">
            
                
                    <a href="../chapter3/10_Statements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.5.</b>
                        
                         语句
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.6" data-path="chapter3/05_Declarations.html">
            
                
                    <a href="../chapter3/05_Declarations.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.6.</b>
                        
                         声明
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.7" data-path="chapter3/06_Attributes.html">
            
                
                    <a href="../chapter3/06_Attributes.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.7.</b>
                        
                         特性
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="3.8" data-path="chapter3/07_Patterns.html">
            
                
                    <a href="../chapter3/07_Patterns.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.8.</b>
                        
                         模式
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.9" data-path="chapter3/08_Generic_Parameters_and_Arguments.html">
            
                
                    <a href="../chapter3/08_Generic_Parameters_and_Arguments.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.9.</b>
                        
                         泛型参数
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3.10" data-path="chapter3/09_Summary_of_the_Grammar.html">
            
                
                    <a href="../chapter3/09_Summary_of_the_Grammar.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.10.</b>
                        
                         语法总结
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        
        <li class="chapter " data-level="4" >
            
            <span><b>4.</b> 苹果官方Blog官方翻译</span>
            
            
            <ul class="articles">
                
    
        
        <li class="chapter " data-level="4.1" data-path="chapter4/01_Access_Control.html">
            
                
                    <a href="../chapter4/01_Access_Control.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                         Access Control 权限控制的黑与白
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.2" data-path="chapter4/02_Type_Custom.html">
            
                
                    <a href="../chapter4/02_Type_Custom.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                         造个类型不是梦-白话Swift类型创建
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.3" data-path="chapter4/03_Ballons.html">
            
                
                    <a href="../chapter4/03_Ballons.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                         WWDC里面的那个“大炮打气球”
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.4" data-path="chapter4/04_Interacting_with_C_Pointers.html">
            
                
                    <a href="../chapter4/04_Interacting_with_C_Pointers.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                         Swift与C语言指针友好合作
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.5" data-path="chapter4/05_Value_and_Reference_Types.html">
            
                
                    <a href="../chapter4/05_Value_and_Reference_Types.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                         引用类型和值类型的恩怨
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.6" data-path="chapter4/06_Access_Control_and_Protected.html">
            
                
                    <a href="../chapter4/06_Access_Control_and_Protected.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                         访问控制和Protected
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4.7" data-path="chapter4/07_Optional_Case_Study.html">
            
                
                    <a href="../chapter4/07_Optional_Case_Study.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                         可选类型完美解决占位问题
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >2.0 新的开始</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_85">
                    
                        <h1 id="patterns">模式（Patterns）</h1>
<hr>
<blockquote>
<p>1.0
翻译：<a href="https://github.com/honghaoz" target="_blank">honghaoz</a>
校对：<a href="https://github.com/numbbbbb" target="_blank">numbbbbb</a>, <a href="https://github.com/stanzhai" target="_blank">stanzhai</a></p>
<p>2.0
翻译+校对：<a href="https://github.com/ray16897188" target="_blank">ray16897188</a>,</p>
<p>2.1
翻译：<a href="https://github.com/WXGBridgeQ" target="_blank">BridgeQ</a></p>
</blockquote>
<p>本页内容包括：</p>
<ul>
<li><a href="#wildcard_pattern">通配符模式（Wildcard Pattern）</a></li>
<li><a href="#identifier_pattern">标识符模式（Identifier Pattern）</a></li>
<li><a href="#value-binding_pattern">值绑定模式（Value-Binding Pattern）</a></li>
<li><a href="#tuple_pattern">元组模式（Tuple Pattern）</a></li>
<li><a href="#enumeration_case_pattern">枚举用例模式（Enumeration Case Pattern）</a></li>
<li><a href="#optional_pattern">可选模式（Optional Pattern）</a></li>
<li><a href="#type-casting_patterns">类型转换模式（Type-Casting Pattern）</a></li>
<li><a href="#expression_pattern">表达式模式（Expression Pattern）</a></li>
</ul>
<p>模式代表单个值或者复合值的结构。例如，元组 <code>(1, 2)</code> 的结构是由逗号分隔的，包含两个元素的列表。因为模式代表一种值的结构，而不是特定的某个值，你可以利用模式来匹配各种各样的值。比如，<code>(x, y)</code> 可以匹配元组 <code>(1, 2)</code>，以及任何含两个元素的元组。除了利用模式匹配一个值以外，你可以从复合值中提取出部分或全部值，然后分别把各个部分的值和一个常量或变量绑定起来。</p>
<p>Swift 中的模式分为两类：一种能成功匹配任何类型的值，另一种在运行时匹配某个特定值时可能会失败。</p>
<p>第一类模式用于解构简单变量、常量和可选绑定中的值。此类模式包括通配符模式、标识符模式，以及包含前两种模式的值绑定模式和元组模式。你可以为这类模式指定一个类型标注，从而限制它们只能匹配某种特定类型的值。</p>
<p>第二类模式用于全模式匹配，这种情况下你试图匹配的值在运行时可能不存在。此类模式包括枚举用例模式、可选模式、表达式模式和类型转换模式。你在 <code>switch</code> 语句的 <code>case</code> 标签中，<code>do</code> 语句的 <code>catch</code> 子句中，或者在 <code>if</code>、<code>while</code>、<code>guard</code> 和 <code>for-in</code> 语句的 <code>case</code> 条件句中使用这类模式。</p>
<blockquote>
<p>模式语法<br><a name="pattern"></a>
<em>模式</em> → <a href="#wildcard_pattern"><em>通配符模式</em></a> <a href="03_Types.html#type-annotation"><em>类型标注</em></a><sub>可选</sub><br><em>模式</em> → <a href="#identifier_pattern"><em>标识符模式</em></a> <a href="03_Types.html#type-annotation"><em>类型标注</em></a><sub>可选</sub><br><em>模式</em> → <a href="#value-binding-pattern"><em>值绑定模式</em></a><br><em>模式</em> → <a href="#tuple-pattern"><em>元组模式</em></a> <a href="03_Types.html#type-annotation"><em>类型标注</em></a><sub>可选</sub><br><em>模式</em> → <a href="#enum-case-pattern"><em>枚举用例模式</em></a><br><em>模式</em> → <a href="#optional-pattern"><em>可选模式</em></a><br><em>模式</em> → <a href="#type-casting-pattern"><em>类型转换模式</em></a><br><em>模式</em> → <a href="#expression-pattern"><em>表达式模式</em></a>  </p>
</blockquote>
<p><a name="wildcard_pattern"></a></p>
<h2 id="wildcard-pattern">通配符模式（Wildcard Pattern）</h2>
<p>通配符模式由一个下划线（<code>_</code>）构成，用于匹配并忽略任何值。当你想忽略被匹配的值时可以使用该模式。例如，下面这段代码在闭区间 <code>1...3</code> 中迭代，每次迭代都忽略该区间的当前值：</p>
<pre><code class="lang-swift"><span class="hljs-keyword">for</span> <span class="hljs-number">_</span> <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>...<span class="hljs-number">3</span> {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<blockquote>
<p>通配符模式语法<br><a name="wildcard-pattern"></a>
<em>通配符模式</em> → <strong>_</strong>  </p>
</blockquote>
<p><a name="identifier_pattern"></a></p>
<h2 id="identifier-pattern">标识符模式（Identifier Pattern）</h2>
<p>标识符模式匹配任何值，并将匹配的值和一个变量或常量绑定起来。例如，在下面的常量声明中，<code>someValue</code> 是一个标识符模式，匹配了 <code>Int</code> 类型的 <code>42</code>：</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> someValue = <span class="hljs-number">42</span>
</code></pre>
<p>当匹配成功时，<code>42</code> 被绑定（赋值）给常量 <code>someValue</code>。</p>
<p>如果一个变量或常量声明的左边是一个标识符模式，那么这个标识符模式是值绑定模式的子模式。</p>
<blockquote>
<p>标识符模式语法<br><a name="identifier-pattern"></a>
<em>标识符模式</em> → <a href="02_Lexical_Structure.html#identifier"><em>标识符</em></a>  </p>
</blockquote>
<p><a name="value-binding_pattern"></a></p>
<h2 id="value-binding-pattern">值绑定模式（Value-Binding Pattern）</h2>
<p>值绑定模式把匹配到的值绑定给一个变量或常量。把匹配到的值绑定给常量时，用关键字 <code>let</code>，绑定给变量时，用关键字 <code>var</code>。</p>
<p>在值绑定模式中的标识符模式会把新命名的变量或常量与匹配到的值做绑定。例如，你可以拆开一个元组，然后把每个元素绑定到相应的标识符模式中。</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> point = (<span class="hljs-number">3</span>, <span class="hljs-number">2</span>)
<span class="hljs-keyword">switch</span> point {
<span class="hljs-comment">// 将 point 中的元素绑定到 x 和 y</span>
<span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> (x, y):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"The point is at (<span class="hljs-subst">\(x)</span>, <span class="hljs-subst">\(y)</span>)."</span>)
}
<span class="hljs-comment">// 打印 “The point is at (3, 2).”</span>
</code></pre>
<p>在上面这个例子中，<code>let</code> 会分配到元组模式 <code>(x, y)</code> 中的各个标识符模式。因此，<code>switch</code> 语句中 <code>case let (x, y):</code> 和 <code>case (let x, let y):</code> 的匹配效果是一样的。</p>
<blockquote>
<p>值绑定模式语法<br><a name="value-binding-pattern"></a>
<em>值绑定模式</em> → <strong>var</strong> <a href="#pattern"><em>模式</em></a> | <strong>let</strong> <a href="#pattern"><em>模式</em></a>  </p>
</blockquote>
<p><a name="tuple_pattern"></a></p>
<h2 id="">元组模式</h2>
<p>元组模式是由逗号分隔的，具有零个或多个模式的列表，并由一对圆括号括起来。元组模式匹配相应元组类型的值。</p>
<p>你可以使用类型标注去限制一个元组模式能匹配哪种元组类型。例如，在常量声明 <code>let (x, y): (Int, Int) = (1, 2)</code> 中的元组模式 <code>(x, y): (Int, Int)</code> 只匹配两个元素都是 <code>Int</code> 类型的元组。</p>
<p>当元组模式被用于 <code>for-in</code> 语句或者变量和常量声明时，它仅可以包含通配符模式、标识符模式、可选模式或者其他包含这些模式的元组模式。比如下面这段代码就不正确，因为 <code>(x, 0)</code> 中的元素 <code>0</code> 是一个表达式模式：</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> points = [(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">0</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">1</span>)]
<span class="hljs-comment">// 下面的代码是错误的</span>
<span class="hljs-keyword">for</span> (x, <span class="hljs-number">0</span>) <span class="hljs-keyword">in</span> points {
    <span class="hljs-comment">/* ... */</span>
}
</code></pre>
<p>只包含一个元素的元组模式的圆括号没有效果，模式只匹配这个单个元素的类型。举例来说，下面的语句是等效的：</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> a = <span class="hljs-number">2</span>        <span class="hljs-comment">// a: Int = 2</span>
<span class="hljs-keyword">let</span> (a) = <span class="hljs-number">2</span>      <span class="hljs-comment">// a: Int = 2</span>
<span class="hljs-keyword">let</span> (a): <span class="hljs-type">Int</span> = <span class="hljs-number">2</span> <span class="hljs-comment">// a: Int = 2</span>
</code></pre>
<blockquote>
<p>元组模式语法<br><a name="tuple-pattern"></a>
<em>元组模式</em> → <strong>(</strong> <a href="#tuple-pattern-element-list"><em>元组模式元素列表</em></a><sub>可选</sub> <strong>)</strong><br><a name="tuple-pattern-element-list"></a>
<em>元组模式元素列表</em> → <a href="#tuple-pattern-element"><em>元组模式元素</em></a> | <a href="#tuple-pattern-element"><em>元组模式元素</em></a> <strong>,</strong> <a href="#tuple-pattern-element-list"><em>元组模式元素列表</em></a><br><a name="tuple-pattern-element"></a>
<em>元组模式元素</em> → <a href="#pattern"><em>模式</em></a>  </p>
</blockquote>
<p><a name="enumeration_case_pattern"></a></p>
<h2 id="enumeration-case-pattern">枚举用例模式（Enumeration Case Pattern）</h2>
<p>枚举用例模式匹配现有的某个枚举类型的某个用例。枚举用例模式出现在 <code>switch</code> 语句中的 <code>case</code> 标签中，以及 <code>if</code>、<code>while</code>、<code>guard</code> 和 <code>for-in</code> 语句的 <code>case</code> 条件中。</p>
<p>如果你准备匹配的枚举用例有任何关联的值，则相应的枚举用例模式必须指定一个包含每个关联值元素的元组模式。关于使用 <code>switch</code> 语句来匹配包含关联值的枚举用例的例子，请参阅 <a href="../chapter2/08_Enumerations.html#associated_values">关联值</a>。</p>
<blockquote>
<p>枚举用例模式语法<br><a name="enum-case-pattern"></a>
<em>枚举用例模式</em> → <a href="03_Types.html#type-identifier"><em>类型标识</em></a><sub>可选</sub> <strong>.</strong> <a href="05_Declarations.html#enum-case-name"><em>枚举用例名</em></a> <a href="#tuple-pattern"><em>元组模式</em></a><sub>可选</sub>  </p>
</blockquote>
<p><a name="optional_pattern"></a></p>
<h2 id="optional-pattern">可选模式（Optional Pattern）</h2>
<p>可选模式匹配包装在一个 <code>Optional(Wrapped)</code> 或者 <code>ExplicitlyUnwrappedOptional(Wrapped)</code> 枚举中的 <code>Some(Wrapped)</code> 用例中的值。可选模式由一个标识符模式和紧随其后的一个问号组成，可以像枚举用例模式一样使用。</p>
<p>由于可选模式是 <code>Optional</code> 和 <code>ImplicitlyUnwrappedOptional</code> 枚举用例模式的语法糖，下面两种写法是等效的：</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> someOptional: <span class="hljs-type">Int</span>? = <span class="hljs-number">42</span>
<span class="hljs-comment">// 使用枚举用例模式匹配</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .<span class="hljs-type">Some</span>(<span class="hljs-keyword">let</span> x) = someOptional {
    <span class="hljs-built_in">print</span>(x)
}

<span class="hljs-comment">// 使用可选模式匹配</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> x? = someOptional {
    <span class="hljs-built_in">print</span>(x)
}
</code></pre>
<p>可选模式为 <code>for-in</code> 语句提供了一种迭代数组的简便方式，只为数组中非 <code>nil</code> 的元素执行循环体。</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> arrayOfOptionalInts: [<span class="hljs-type">Int</span>?] = [<span class="hljs-built_in">nil</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-built_in">nil</span>, <span class="hljs-number">5</span>]
<span class="hljs-comment">// 只匹配非 nil 的元素</span>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">case</span> <span class="hljs-keyword">let</span> number? <span class="hljs-keyword">in</span> arrayOfOptinalInts {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Found a <span class="hljs-subst">\(number)</span>"</span>)
}
<span class="hljs-comment">// Found a 2</span>
<span class="hljs-comment">// Found a 3</span>
<span class="hljs-comment">// Found a 5</span>
</code></pre>
<blockquote>
<p>可选模式语法<br><a name="optional-pattern"></a>
<em>可选模式</em> → <a href="03_Types.html#type-identifier"><em>标识符模式</em></a> <strong>?</strong></p>
</blockquote>
<p><a name="type-casting_patterns"></a></p>
<h2 id="type-casting-patterns">类型转换模式（Type-Casting Patterns）</h2>
<p>有两种类型转换模式，<code>is</code> 模式和 <code>as</code> 模式。<code>is</code> 模式只出现在 <code>switch</code> 语句中的 <code>case</code> 标签中。<code>is</code> 模式和 <code>as</code> 模式形式如下：</p>
<blockquote>
<p>is <code>类型</code><br><code>模式</code> as <code>类型</code></p>
</blockquote>
<p><code>is</code> 模式仅当一个值的类型在运行时和 <code>is</code> 模式右边的指定类型一致，或者是其子类的情况下，才会匹配这个值。<code>is</code> 模式和 <code>is</code> 运算符有相似表现，它们都进行类型转换，但是 <code>is</code> 模式没有返回类型。</p>
<p><code>as</code> 模式仅当一个值的类型在运行时和 <code>as</code> 模式右边的指定类型一致，或者是其子类的情况下，才会匹配这个值。如果匹配成功，被匹配的值的类型被转换成 <code>as</code> 模式右边指定的类型。</p>
<p>关于使用 <code>switch</code> 语句配合 <code>is</code> 模式和 <code>as</code> 模式来匹配值的例子，请参阅 <a href="../chapter2/19_Type_Casting.html#type_casting_for_any_and_anyobject">Any 和 AnyObject 的类型转换</a>。</p>
<blockquote>
<p>类型转换模式语法<br><a name="type-casting-pattern"></a>
<em>类型转换模式</em> → <a href="#is-pattern"><em>is模式</em></a> | <a href="#as-pattern"><em>as模式</em></a><br><a name="is-pattern"></a>
<em>is模式</em> → <strong>is</strong> <a href="03_Types.html#type"><em>类型</em></a><br><a name="as-pattern"></a>
<em>as模式</em> → <a href="#pattern"><em>模式</em></a> <strong>as</strong> <a href="03_Types.html#type"><em>类型</em></a>  </p>
</blockquote>
<p><a name="expression_pattern"></a></p>
<h2 id="expression-pattern">表达式模式（Expression Pattern）</h2>
<p>表达式模式代表表达式的值。表达式模式只出现在 <code>switch</code> 语句中的 <code>case</code> 标签中。</p>
<p>表达式模式代表的表达式会使用 Swift 标准库中的 <code>~=</code> 运算符与输入表达式的值进行比较。如果 <code>~=</code> 运算符返回 <code>true</code>，则匹配成功。默认情况下，<code>~=</code> 运算符使用 <code>==</code> 运算符来比较两个相同类型的值。它也可以将一个整型数值与一个 <code>Range</code> 实例中的一段整数区间做匹配，正如下面这个例子所示：</p>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> point = (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
<span class="hljs-keyword">switch</span> point {
<span class="hljs-keyword">case</span> (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"(0, 0) is at the origin."</span>)
<span class="hljs-keyword">case</span> (-<span class="hljs-number">2</span>...<span class="hljs-number">2</span>, -<span class="hljs-number">2</span>...<span class="hljs-number">2</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"(<span class="hljs-subst">\(point.<span class="hljs-number">0</span>)</span>, <span class="hljs-subst">\(point.<span class="hljs-number">1</span>)</span>) is near the origin."</span>)
<span class="hljs-keyword">default</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"The point is at (<span class="hljs-subst">\(point.<span class="hljs-number">0</span>)</span>, <span class="hljs-subst">\(point.<span class="hljs-number">1</span>)</span>)."</span>)
}
<span class="hljs-comment">// 打印 “(1, 2) is near the origin.”</span>
</code></pre>
<p>你可以重载 <code>~=</code> 运算符来提供自定义的表达式匹配行为。比如你可以重写上面的例子，将 <code>point</code> 表达式与字符串形式表示的点进行比较。</p>
<pre><code class="lang-swift"><span class="hljs-comment">// 重载 ~= 运算符对字符串和整数进行比较</span>
<span class="hljs-func"><span class="hljs-keyword">func</span> ~=<span class="hljs-params">(pattern: String, value: Int)</span> -&gt; <span class="hljs-title">Bool</span> </span>{
    <span class="hljs-keyword">return</span> pattern == <span class="hljs-string">"<span class="hljs-subst">\(value)</span>"</span>
}

<span class="hljs-keyword">switch</span> point {
<span class="hljs-keyword">case</span> (<span class="hljs-string">"0"</span>, <span class="hljs-string">"0"</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"(0, 0) is at the origin."</span>)
<span class="hljs-keyword">default</span>:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"The point is at (<span class="hljs-subst">\(point.<span class="hljs-number">0</span>)</span>, <span class="hljs-subst">\(point.<span class="hljs-number">1</span>)</span>)."</span>)
}
<span class="hljs-comment">// 打印 “(1, 2) is near the origin.”</span>
</code></pre>
<blockquote>
<p>表达式模式语法<br><a name="expression-pattern"></a>
<em>表达式模式</em> → <a href="04_Expressions.html#expression"><em>表达式</em></a>  </p>
</blockquote>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../chapter3/06_Attributes.html" class="navigation navigation-prev " aria-label="Previous page: 特性"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../chapter3/08_Generic_Parameters_and_Arguments.html" class="navigation navigation-next " aria-label="Next page: 泛型参数"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
